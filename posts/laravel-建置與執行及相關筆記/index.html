<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Laravel 建置與執行及相關筆記 - Jimmy 's Code</title><link rel=apple-touch-icon href=https://jimmycode.tw/images/favicons/apple-touch-icon.png sizes=180x180><link rel=icon href=https://jimmycode.tw/images/favicons/favicon-32x32.png sizes=32x32 type=image/png><link rel=icon href=https://jimmycode.tw/images/favicons/favicon-16x16.png sizes=16x16 type=image/png><link rel=manifest href=https://jimmycode.tw/images/favicons/manifest.json><link rel=icon href=https://jimmycode.tw/images/favicons/favicon.ico><meta name=keywords content><meta name=description content><meta itemprop=name content="Laravel 建置與執行及相關筆記"><meta itemprop=description content="Laravel 建置與執行 1.為甚麼要使用Laravel  為甚麼要使用框架  Laravel Lumen Slim   歷史  Ruby on rails CodeIgniter Laravel   Laravel 的設計哲學  使用與光有關的字眼  illuminate 照亮 spark 火花   提升開發速度和開發者的幸福   Laravel 社群  2.設置Laravel 開發環境與介紹  系統需求 Composer 本地開發環境  Laravel Valet (mac) Laravel Homestead  vagrant up vagrant suspend vagrant halt vagrant destroy vagrant provision     laravel new & composer create-project Laravel 的目錄結構  3."><meta itemprop=datePublished content="2019-08-31T11:15:17+00:00"><meta itemprop=dateModified content="2019-08-31T11:15:17+00:00"><meta itemprop=wordCount content="1080"><meta itemprop=keywords content="laravel,"><meta property="og:title" content="Laravel 建置與執行及相關筆記"><meta property="og:description" content="Laravel 建置與執行 1.為甚麼要使用Laravel  為甚麼要使用框架  Laravel Lumen Slim   歷史  Ruby on rails CodeIgniter Laravel   Laravel 的設計哲學  使用與光有關的字眼  illuminate 照亮 spark 火花   提升開發速度和開發者的幸福   Laravel 社群  2.設置Laravel 開發環境與介紹  系統需求 Composer 本地開發環境  Laravel Valet (mac) Laravel Homestead  vagrant up vagrant suspend vagrant halt vagrant destroy vagrant provision     laravel new & composer create-project Laravel 的目錄結構  3."><meta property="og:type" content="article"><meta property="og:url" content="https://jimmycode.tw/posts/laravel-%E5%BB%BA%E7%BD%AE%E8%88%87%E5%9F%B7%E8%A1%8C%E5%8F%8A%E7%9B%B8%E9%97%9C%E7%AD%86%E8%A8%98/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-08-31T11:15:17+00:00"><meta property="article:modified_time" content="2019-08-31T11:15:17+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Laravel 建置與執行及相關筆記"><meta name=twitter:description content="Laravel 建置與執行 1.為甚麼要使用Laravel  為甚麼要使用框架  Laravel Lumen Slim   歷史  Ruby on rails CodeIgniter Laravel   Laravel 的設計哲學  使用與光有關的字眼  illuminate 照亮 spark 火花   提升開發速度和開發者的幸福   Laravel 社群  2.設置Laravel 開發環境與介紹  系統需求 Composer 本地開發環境  Laravel Valet (mac) Laravel Homestead  vagrant up vagrant suspend vagrant halt vagrant destroy vagrant provision     laravel new & composer create-project Laravel 的目錄結構  3."><link rel=preload href=https://jimmycode.tw/css/bundle.min.643900699e7fb51d4175d33d11c93e49265975c52606601647201d5b85ba1a0e.css integrity="sha256-ZDkAaZ5/tR1BddM9Eck+SSZZdcUmBmAWRyAdW4W6Gg4=" crossorigin=anonymous as=style onload="this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://jimmycode.tw/css/bundle.min.643900699e7fb51d4175d33d11c93e49265975c52606601647201d5b85ba1a0e.css integrity="sha256-ZDkAaZ5/tR1BddM9Eck+SSZZdcUmBmAWRyAdW4W6Gg4=" crossorigin=anonymous></noscript><script src=https://jimmycode.tw/js/bundle.min.53dd1307d0f3ff7472b0160724d3e399c1435cb5932cfab266545b1fdef05e5a.js integrity="sha256-U90TB9Dz/3RysBYHJNPjmcFDXLWTLPqyZlRbH97wXlo=" crossorigin=anonymous></script></head><body><script src=https://jimmycode.tw/js/bootstrap.min.b5d86dd3a5f60c90be38a252bb65fc1a2732f32e71dc12c051720f0c7aef3cde.js integrity="sha256-tdht06X2DJC+OKJSu2X8Gicy8y5x3BLAUXIPDHrvPN4=" crossorigin=anonymous></script><header><nav class="navbar top-app-bar top-app-bar-expand-lg"><div class=container-fluid><button class="navbar-settings me-1" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasSettings aria-controls=offcanvasSettings aria-label="Toggle settings">
<i class="fas fa-bars"></i></button><div class="offcanvas offcanvas-start surface" tabindex=-1 id=offcanvasSettings aria-labelledby=offcanvasSettings><div class=offcanvas-header><h3 class=offcanvas-title>設定</h3><button type=button class="btn btn-sm btn-outline-primary" data-bs-dismiss=offcanvas aria-label=Close>
<i class="fas fa-times"></i></button></div><div class=offcanvas-body><section class=setting><form class=row><div class=col-auto><label><i class="fas fa-fw fa-adjust"></i> 模式</label></div><div class="col-auto ms-auto"><div class="form-check form-switch"><input class=form-check-input type=checkbox id=modeSwitcher></div></div></form></section><section class=setting><form class="font-size-switcher-form row"><div class=col-auto><label for=fontSize class=form-label><i class="fas fa-fw fa-font"></i> 字體大小</label></div><div class="col-auto ms-auto"><input type=range class=form-range min=-2 max=2 id=fontSize></div></form></section><section class="setting palettes"><form class=row><div class=col-auto><label><i class="fas fa-fw fa-palette"></i> 配色</label></div><div class="col-auto ms-auto"><a id=btnPalette class="btn btn-sm btn-outline-primary" role=button aria-label=palettePicker><i class="fas fa-eye-dropper"></i></a></div></form><div class="mt-2 d-flex visually-hidden" id=palettePicker><button type=button id=palette-orange aria-label=橙色 class="btn btn-sm palette" data-palette=orange>
</button><button type=button id=palette-blue aria-label=藍色 class="btn btn-sm palette" data-palette=blue>
</button><button type=button id=palette-brown aria-label=棕色 class="btn btn-sm palette" data-palette=brown></button></div></section><section class="setting social-share"><form class=row><div class=col-auto><label><i class="fas fa-fw fa-share-alt"></i> Share</label></div><div class="col-auto ms-auto"><a class="btn btn-sm btn-outline-primary btn-social-share"><i class="fas fa-share"></i></a></div></form><div class="mt-2 social-share-buttons d-flex visually-hidden flex-nowrap"><a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button" target=_blank href="https://twitter.com/intent/tweet?title=Laravel%20%e5%bb%ba%e7%bd%ae%e8%88%87%e5%9f%b7%e8%a1%8c%e5%8f%8a%e7%9b%b8%e9%97%9c%e7%ad%86%e8%a8%98&url=https%3a%2f%2fjimmycode.tw%2fposts%2flaravel-%25E5%25BB%25BA%25E7%25BD%25AE%25E8%2588%2587%25E5%259F%25B7%25E8%25A1%258C%25E5%258F%258A%25E7%259B%25B8%25E9%2597%259C%25E7%25AD%2586%25E8%25A8%2598%2f"><i class="fab fa-fw fa-twitter"></i> Twitter</a>
<a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjimmycode.tw%2fposts%2flaravel-%25E5%25BB%25BA%25E7%25BD%25AE%25E8%2588%2587%25E5%259F%25B7%25E8%25A1%258C%25E5%258F%258A%25E7%259B%25B8%25E9%2597%259C%25E7%25AD%2586%25E8%25A8%2598%2f"><i class="fab fa-fw fa-facebook-f"></i> Facebook</a></div></section></div></div><a class="navbar-brand me-3" href=https://jimmycode.tw/>Jimmy 's Code</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-ellipsis-v"></i></button><div class="collapse navbar-collapse" tabindex=-1 id=navbarSupportedContent aria-labelledby=navbarSupportedContent><form class="search-bar my-1" action=https://jimmycode.tw/search><div class="input-group input-group-sm"><span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
<input class="form-control rounded-pill" name=q type=search aria-label=Search></div></form><ul class="navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=https://jimmycode.tw/archives><i class="fas fa-fw fa-file-archive"></i>歸檔</a></li><li class=nav-item><a class=nav-link href=https://jimmycode.tw/categories><i class="fas fa-fw fa-folder"></i>分類</a></li><li class=nav-item><a class=nav-link href=https://jimmycode.tw/tags><i class="fas fa-fw fa-tags"></i>標籤</a></li><li class=nav-item><a class=nav-link href=https://github.com/r567tw target=_blank rel="noopener noreferrer"><i class="fab fa-fw fa-github"></i>Github</a></li></ul></div></div></nav></header><main role=main class=container-fluid><div class="row content"><div class=col-lg-8><div class=container><nav class="row card component" aria-label=breadcrumb><div class=card-body><ol class=breadcrumb><li class=breadcrumb-item><a href=https://jimmycode.tw/>主頁</a></li><li class=breadcrumb-item><a href=https://jimmycode.tw/posts/>Posts</a></li><li class="breadcrumb-item active">Laravel 建置與執行及相關筆記</li></ol></div></nav><article class="post row card mb-4 component"><div class=card-body><div class=post-panel-wrapper><div class="post-panel d-flex flex-column"><a id=sidebarToggler class="action d-none d-lg-block" role=button><i class="fas fa-fw fa-expand-arrows-alt"></i></a>
<a data-bs-toggle=offcanvas href=#offcanvasTOC aria-controls=offcanvasTOC role=button><i class="fas fa-fw fa-list-alt"></i></a></div></div><h1 class="card-title my-3">Laravel 建置與執行及相關筆記</h1><div class=post-meta><span class=post-date title="created on"><i class="fas fa-fw fa-calendar-alt"></i>Aug 31, 2019
</span><span class=post-reading-time title="reading time"><i class="fas fa-fw fa-coffee"></i>6 分鐘閱讀
</span><a href=https://jimmycode.tw/categories/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/ class=post-taxonomy>讀書筆記</a><a href=https://jimmycode.tw/tags/laravel/ class=post-taxonomy>laravel</a></div><div class="offcanvas offcanvas-end surface" tabindex=-1 id=offcanvasTOC aria-labelledby=offcanvasTOCLabel><div class=offcanvas-header><h2 class=offcanvas-title id=offcanvasTOCLabel>目錄</h5><button type=button class="btn btn-sm btn-outline-primary" data-bs-dismiss=offcanvas aria-label=Close>
<i class="fas fa-times"></i></button></div><div class=offcanvas-body><nav id=TableOfContents><ul><li><a href=#1為甚麼要使用laravel>1.為甚麼要使用Laravel</a></li><li><a href=#2設置laravel-開發環境與介紹>2.設置Laravel 開發環境與介紹</a></li><li><a href=#3路由與控制器>3.路由與控制器</a></li><li><a href=#4blade-模板>4.Blade 模板</a></li><li><a href=#5前端套件>5.前端套件</a></li><li><a href=#6收集與處理用戶資料>6.收集與處理用戶資料</a></li><li><a href=#7artisan-與-tinker>7.Artisan 與 Tinker</a></li><li><a href=#8資料庫與eloquent>8.資料庫與Eloquent</a></li><li><a href=#9用戶身分驗證與授權>9.用戶身分驗證與授權</a></li><li><a href=#10請求與回應>10.請求與回應</a></li><li><a href=#11容器>11.容器</a></li><li><a href=#12測試>12.測試</a></li><li><a href=#13編寫api>13.編寫API</a></li><li><a href=#14儲存與取出>14.儲存與取出</a></li><li><a href=#15郵件與通知>15.郵件與通知</a></li><li><a href=#16佇列工作事件廣播與排程器>16.佇列、工作、事件、廣播與排程器</a></li><li><a href=#17輔助函式與集合>17.輔助函式與集合</a></li><li><a href=#laravel-的中大型專案架構>Laravel 的中大型專案架構</a></li><li><a href=#laravel-外掛整理>Laravel 外掛整理</a><ul><li><a href=#debug>Debug</a></li><li><a href=#開發相關>開發相關</a></li><li><a href=#驗證>驗證</a></li><li><a href=#權限>權限</a></li><li><a href=#管理後台>管理後台</a></li><li><a href=#ruby-on-rail-scaffold>Ruby on rail Scaffold</a></li><li><a href=#office>Office</a></li><li><a href=#notification-通知>Notification 通知</a></li><li><a href=#log>Log</a></li><li><a href=#開發>開發</a></li><li><a href=#pdf>PDF</a></li><li><a href=#資料庫備份>資料庫備份</a></li><li><a href=#datatable>Datatable</a></li><li><a href=#其它>其它</a></li></ul></li><li><a href=#laravel-的carbon-小技巧>Laravel 的Carbon 小技巧</a></li><li><a href=#相關資源>相關資源</a></li></ul></nav></div></div><div class="post-content mb-3"><h1 id=laravel-建置與執行>Laravel 建置與執行</h1><h2 id=1為甚麼要使用laravel>1.為甚麼要使用Laravel</h2><ul><li>為甚麼要使用框架<ul><li>Laravel</li><li>Lumen</li><li>Slim</li></ul></li><li>歷史<ul><li>Ruby on rails</li><li>CodeIgniter</li><li>Laravel</li></ul></li><li>Laravel 的設計哲學<ul><li>使用與光有關的字眼<ul><li>illuminate 照亮</li><li>spark 火花</li></ul></li><li>提升開發速度和開發者的幸福</li></ul></li><li>Laravel 社群</li></ul><h2 id=2設置laravel-開發環境與介紹>2.設置Laravel 開發環境與介紹</h2><ul><li>系統需求</li><li>Composer</li><li>本地開發環境<ul><li>Laravel Valet (mac)</li><li>Laravel Homestead<ul><li>vagrant up</li><li>vagrant suspend</li><li>vagrant halt</li><li>vagrant destroy</li><li>vagrant provision</li></ul></li></ul></li><li>laravel new & composer create-project</li><li>Laravel 的目錄結構</li></ul><h2 id=3路由與控制器>3.路由與控制器</h2><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=nx>Route</span><span class=o>::</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span><span class=k>function</span><span class=p>(){</span>
<span class=ln>2</span>    <span class=k>return</span> <span class=s1>&#39;Hello World&#39;</span><span class=p>;</span>
<span class=ln>3</span>    <span class=c1>//return view(&#39;welcome&#39;); #resources/views/welcome.blade.php
</span><span class=ln>4</span><span class=c1></span><span class=p>})</span>
<span class=ln>5</span>
<span class=ln>6</span><span class=c1>#可用正規表達式限制路由
</span><span class=ln>7</span><span class=c1></span><span class=nx>Route</span><span class=o>::</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;/{name}&#39;</span><span class=p>,</span><span class=k>function</span><span class=p>(){</span>
<span class=ln>8</span>    <span class=k>return</span> <span class=s1>&#39;Hello World&#39;</span><span class=p>;</span>
<span class=ln>9</span><span class=p>})</span><span class=o>-&gt;</span><span class=na>where</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span><span class=s1>&#39;[0-9]+&#39;</span><span class=p>)</span>
</code></pre></div><ul><li>路由動詞<ul><li>Get 觀看</li><li>Post 新增</li><li>Put/Patch 更新</li><li>Delete 刪除</li><li><strong>any</strong></li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span>    <span class=nx>Route</span><span class=o>::</span><span class=na>any</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span><span class=k>function</span><span class=p>(){})</span>
</code></pre></div><ul><li><strong>match</strong></li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span>    <span class=nx>Route</span><span class=o>::</span><span class=na>match</span><span class=p>([</span><span class=s1>&#39;get&#39;</span><span class=p>,</span><span class=s1>&#39;post&#39;</span><span class=p>],</span><span class=s1>&#39;/&#39;</span><span class=p>,</span><span class=k>function</span><span class=p>(){})</span>
</code></pre></div></li><li>中介層 middleware<ul><li>在進入controller 之前 過濾request 的條件和身分等</li><li>有controller construct 和 route 定義兩種方式宣告</li></ul></li><li>使用視圖組件讓所有視圖共用變數</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span>    <span class=nx>view</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>share</span><span class=p>(</span><span class=s1>&#39;variable&#39;</span><span class=p>,</span><span class=err>&#39;</span><span class=nx>variable</span><span class=p>);</span>
</code></pre></div><ul><li><p>Controller</p><table><thead><tr><th>方法名稱</th><th>動詞</th><th>URL</th></tr></thead><tbody><tr><td>index</td><td>get</td><td>tasks</td></tr><tr><td>show</td><td>get</td><td>tasks/{task}</td></tr><tr><td>create</td><td>get</td><td>tasks/create</td></tr><tr><td>store</td><td>post</td><td>tasks</td></tr><tr><td>edit</td><td>get</td><td>tasks/{task}/edit</td></tr><tr><td>update</td><td>post (put or patch)</td><td>tasks/{task}</td></tr><tr><td>destroy</td><td>post (delete)</td><td>tasks/{task}</td></tr></tbody></table></li><li><p>路由模型綁定</p></li></ul><p>定義一個特定的參數名稱 如{task} 來指示路由解析器，他應該用那個的id 來尋找而不是傳統將id 傳入</p><ul><li>顯式與隱式</li><li>路由快取<br>壓榨載入時間的每毫秒</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=nx>php</span> <span class=nx>artisan</span> <span class=nx>route</span><span class=o>:</span><span class=nx>cache</span>
<span class=ln>2</span><span class=nx>php</span> <span class=nx>artisan</span> <span class=nx>route</span><span class=o>:</span><span class=nx>clear</span>
</code></pre></div><ul><li>方法欺騙: method_field() 或者 input-name:_method</li><li>CSRF</li><li>轉址 redirect</li><li>中止請求<ul><li>abort(403)</li><li>abort_if(condition,403)</li><li>abort_unless(condition,403)</li></ul></li><li>回應 response<ul><li>response()->make() 建立一個http 回應</li><li>response()->json()</li><li>response()->download()</li></ul></li></ul><h2 id=4blade-模板>4.Blade 模板</h2><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span> <span class=o>@</span><span class=k>if</span> <span class=nx>和</span> <span class=o>@</span><span class=k>endif</span>
<span class=ln>2</span> <span class=p>{{</span> <span class=p>}}</span>
<span class=ln>3</span> <span class=o>@</span><span class=nx>unless</span> <span class=o>@</span><span class=nx>endunless</span>
<span class=ln>4</span> <span class=o>@</span><span class=k>for</span> <span class=o>@</span><span class=k>foreach</span> <span class=o>@</span><span class=k>while</span>
<span class=ln>5</span> <span class=o>@</span><span class=nx>forelse</span> <span class=o>==&gt;@</span><span class=k>foreach</span> <span class=nx>在迭代的物件是空的時可寫應變機制</span>
<span class=ln>6</span> <span class=o>@</span><span class=nx>section</span><span class=o>/@</span><span class=nx>show</span> <span class=o>@</span><span class=k>yield</span>
<span class=ln>7</span> <span class=o>@</span><span class=k>include</span> 
<span class=ln>8</span> <span class=o>@</span><span class=k>extends</span>
</code></pre></div><ul><li>自動blade 指令</li><li>全域共用變數</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln> 1</span><span class=c1># in App\Providers\AppServiceProvider.php
</span><span class=ln> 2</span><span class=c1></span><span class=k>public</span> <span class=k>function</span> <span class=nf>boot</span><span class=p>()</span>
<span class=ln> 3</span><span class=p>{</span>
<span class=ln> 4</span>    <span class=o>...</span>
<span class=ln> 5</span>    <span class=nx>view</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>share</span><span class=p>(</span><span class=s1>&#39;posts&#39;</span><span class=p>,</span><span class=nx>Post</span><span class=o>::</span><span class=na>recent</span><span class=p>());</span>
<span class=ln> 6</span><span class=p>}</span>
<span class=ln> 7</span>
<span class=ln> 8</span><span class=nx>view</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>composer</span><span class=p>(</span><span class=s1>&#39;partials.sidebar&#39;</span><span class=p>,</span><span class=k>function</span><span class=p>(</span><span class=nv>$view</span><span class=p>){</span>
<span class=ln> 9</span>    <span class=nv>$view</span><span class=o>-&gt;</span><span class=na>with</span><span class=p>(</span><span class=s1>&#39;posts&#39;</span><span class=p>,</span><span class=nx>Post</span><span class=o>::</span><span class=na>recent</span><span class=p>());</span>
<span class=ln>10</span><span class=p>})</span>
<span class=ln>11</span><span class=c1>#自訂指令
</span><span class=ln>12</span><span class=c1>//AppServiceProvider
</span><span class=ln>13</span><span class=c1></span><span class=k>public</span> <span class=k>function</span> <span class=nf>boot</span><span class=p>()</span>
<span class=ln>14</span><span class=p>{</span>
<span class=ln>15</span>    <span class=nx>Blade</span><span class=o>::</span><span class=na>directive</span><span class=p>(</span><span class=s1>&#39;ifGuest&#39;</span><span class=p>,</span><span class=k>function</span><span class=p>(){</span>
<span class=ln>16</span>        <span class=k>return</span> <span class=s2>&#34;&lt;?php if (auth()-&gt;guest()): ?&gt;&#34;</span>
<span class=ln>17</span>    <span class=p>});</span>
<span class=ln>18</span><span class=p>}</span>
</code></pre></div><h2 id=5前端套件>5.前端套件</h2><ul><li>laravel-mix</li></ul><h2 id=6收集與處理用戶資料>6.收集與處理用戶資料</h2><ul><li>Request<ul><li>all()</li><li>except() or only()</li><li>has() or exist()</li><li>input() 提供第二個參數是預設值</li><li>json()</li><li>路由資料<ul><li>segment()</li></ul></li><li>上傳檔案<ul><li>$request->hasfile() and $request->file()</li><li>guessExtension</li><li>getMimeType</li><li>move()</li><li>getClientOriginalName()</li><li>getClientOriginalExtension()</li><li>isValid()</li><li>…..其他(p.102)</li></ul></li></ul></li><li>驗證<ul><li>$this->validate($request,[rules]);</li><li>表單請求 php artisan make:request Arequest<ul><li>authorize()</li><li>rule / message</li></ul></li><li>withErrors 顯示錯誤訊息</li><li>規則可以看文件</li></ul></li><li>Eloquent 模型的大量賦值<ul><li>$fillable in model</li></ul></li><li>{{ … }} v.s {!! … !!}</li></ul><h2 id=7artisan-與-tinker>7.Artisan 與 Tinker</h2><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=nx>php</span> <span class=nx>artisan</span> <span class=nx>make</span><span class=o>:</span><span class=nx>command</span> <span class=p>{</span><span class=nx>action</span><span class=p>}</span> 
</code></pre></div><ul><li>可以同時生成model 和migration 和controller</li></ul><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>php artisan make:model <span class=o>[</span>name<span class=o>]</span> -m -r 
</code></pre></div><h2 id=8資料庫與eloquent>8.資料庫與Eloquent</h2><ul><li>Laravel 的 ActiveRecord ORM</li><li>config/database.php</li><li>migration 資料庫遷移<ul><li>系統會依據日期執行他的up/down方法</li><li>定義 migration<ul><li>up() 作他的migration</li><li>down() 恢復他</li></ul></li><li>建立 migration<ul><li><code>php artisan make:migration create_users_table</code></li><li><code>php artisan make:migration add_votes_to_users_table --table=users php artisan make:migration create_users_table --create=users</code></li></ul></li><li><code>撰寫 migration &lt;a href="https://laravel.com/docs/5.5/migrations">請參考文件&lt;/a></code></li><li><code>seeder</code>指令<ul><li><code>php artisan migrate --seed</code></li><li><code>php artisan migrate:refresh --seed</code></li><li><code>php artisan db:seed</code></li><li><code>php artisan db:seed --class=VotesTableSeeder #分別執行</code></li><li><code>php artisan make:seeder ContactsTableSeeder</code></li></ul></li><li><code>撰寫seeder 請參考&lt;a href="https://laravel.com/docs/5.5/seeding">文件&lt;/a></code></li></ul></li><li>查詢產生器<ul><li>任何一種資料庫的功能核心都是查詢產生器</li><li>原生DB 靜態介面寫法 <code>php= DB::statement('drop table users') DB::select('select * from student where id=?',[1]) $users=DB::table('users')->get() #....其他如join where insert 等 略</code><ul><li>限制方法<ul><li>select()</li><li>where()</li><li>orwhere()</li><li>whereBetween()</li><li>whereIn()</li><li>whereNull() whereNotNull()</li><li>whereRaw()</li><li>whereExists()</li><li>distinct</li></ul></li><li>修改方法<ul><li>orderBy groupbY having() havingRaw()</li><li>skip() take()</li><li>latest() oldest()</li><li>inRandomOrder() 隨機排序結果</li></ul></li><li>結束回傳方法<ul><li>get()</li><li>first() firstOrFail()</li><li>value() 拉出某個欄位</li><li>count()</li><li>min() max()</li><li>sum() avg()</li></ul></li><li>聯集與聯結<ul><li>join()</li><li>union()</li></ul></li><li>增加 更新 刪除<ul><li>insert()</li><li>update()</li><li>delete()</li></ul></li><li>json 的操作<br>如果你的資料有json 格式可以這樣寫<div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=c1>//查詢  
</span><span class=ln>2</span><span class=c1></span><span class=nx>DB</span><span class=o>:</span><span class=nx>table</span><span class=p>(</span><span class=s1>&#39;users&#39;</span><span class=p>)</span><span class=o>-&gt;</span><span class=na>where</span><span class=p>(</span><span class=s1>&#39;options-&gt;isAdmin&#39;</span><span class=p>,</span><span class=k>true</span><span class=p>)</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>()</span>  
<span class=ln>3</span><span class=c1>//更新  
</span><span class=ln>4</span><span class=c1></span><span class=nx>DB</span><span class=o>:</span><span class=nx>table</span><span class=p>(</span><span class=s1>&#39;users&#39;</span><span class=p>)</span><span class=o>-&gt;</span><span class=na>update</span><span class=p>([</span><span class=s1>&#39;options-&gt;isAdmin&#39;</span><span class=p>,</span><span class=k>true</span><span class=p>)</span>
</code></pre></div></li></ul></li></ul></li><li>Eloquent 模型<a href=https://laravel.com/docs/5.5/eloquent target=_blank rel="noopener noreferrer">請參考文件</a></li></ul><p>Eloquent 雖有獨有all 方法，但本書建議不要使用~</p><ul><li>Eloquent 模型序列化<ul><li>將某種複雜的東西轉換成字串 toArray() toJson()</li><li><a href=https://laravel.com/docs/5.5/eloquent-serialization>https://laravel.com/docs/5.5/eloquent-serialization</a></li></ul></li></ul><h2 id=9用戶身分驗證與授權>9.用戶身分驗證與授權</h2><ul><li>php artisan make:auth</li><li><a href=https://laravel.com/docs/5.5/authentication>https://laravel.com/docs/5.5/authentication</a></li><li>守衛<ul><li>config/auth.php</li><li>auth()->guard(‘user')->user()</li></ul></li><li>授權 ACL<ul><li>in blade: can cannot allows denies</li><li>can</li><li>gete</li><li>policy</li></ul></li></ul><h2 id=10請求與回應>10.請求與回應</h2><ul><li>請求生命週期<ul><li>每一個請求都會轉成 Illuminate Request 物件 經過middleware 過濾請求後進入controller 處理好後就產生 Illuminate Response</li><li>request</li><li>resonse</li><li>middleware<ul><li>每一個請求都會經過每一個middleware 最後進入應用程式，之後產生的回應會經過middleware回到用戶</li></ul></li></ul></li></ul><h2 id=11容器>11.容器</h2><ul><li>相依注入<ul><li>每一個類別的相依關係都是從外面住入的 而不是在類別中實例化的</li></ul></li><li>控制反轉</li><li>app() 全域輔助函式</li><li>將類別綁定容器<ul><li>告知容器如果有人要求一個Logger 實例，則執行這段程式</li></ul></li></ul><h2 id=12測試>12.測試</h2><ul><li>Laravel 內建 PHPUnit、Behat、Mockery、Faker 等</li><li>單元測試<ul><li>測試對象是小型、相對獨立的單位，通常是一個類別或方法</li></ul></li><li>整合測試<ul><li>測試各個單位合作及傳遞訊息的方式</li></ul></li><li>應用測試<ul><li>驗收或功能測試，測試整個應用程式的行為</li></ul></li><li>在根目錄執行 .\vendor\bin\phpunit</li><li><a href=https://laravel.com/docs/5.5/testing target=_blank rel="noopener noreferrer">文件</a></li><li>php artisan make:test GreetTest<ul><li>在feature 資料夾裡面增加一個GreetTest.php 繼承TestCase</li><li>phpunit 會跑feature 和unit 裡的每一個測試</li><li>$this->visit(url)</li><li>$this->call(method,url,params,cookies,file,server,content)</li><li>$this->get/post/put/patch/delete</li><li>$this->json</li><li>$this->followRedirects</li></ul></li><li>各種的asset 測試方法<ul><li><a href=https://laravel.com/docs/5.5/http-tests#available-assertions target=_blank rel="noopener noreferrer">文件</a></li></ul></li><li><a href=https://github.com/r567tw/laravel-playground/commit/7478b7b94ed1e1d9742987d03464c92d932e0223 target=_blank rel="noopener noreferrer">自我練習</a></li><li>Browser Tests (Laravel Dusk)<ul><li><a href=https://laravel.com/docs/5.5/dusk target=_blank rel="noopener noreferrer">元件外掛</a></li></ul></li><li>測試特徵<ul><li>withoutMiddleware</li><li>databasemigrations</li><li>databasetransactions</li></ul></li></ul><h2 id=13編寫api>13.編寫API</h2><ul><li>類REST JSON API 基礎<ul><li>一種用來建構API 的架構格式</li><li>URL 可以獨特的表示一種資源</li><li>使用HTTP動詞來和資源互動</li></ul></li><li>CRUD</li><li>Laravel Passport 作 API 身分驗證<ul><li><a href=https://laravel.com/docs/5.5/passport>https://laravel.com/docs/5.5/passport</a></li></ul></li></ul><p>composer require laravel/passport</p><p>在config/app.php providers 加入 Laravel\PassportServiceProvider::class</p><p>php artisan passport:install</p><p>將HasApiTokens 的trait 加入 App\user</p><ul><li><a href="http://www.itread01.com/content/1496308818.html'">http://www.itread01.com/content/1496308818.html'</a></li><li><a href=http://codingweb.tw/2016/12/23/laravel-5-3-api-%E8%AA%8D%E8%AD%89-authentication-passport/>http://codingweb.tw/2016/12/23/laravel-5-3-api-%E8%AA%8D%E8%AD%89-authentication-passport/</a></li></ul><h2 id=14儲存與取出>14.儲存與取出</h2><ul><li>本地與雲端檔案管理器</li><li>config/filesystems.php</li><li>storage_path() 輔助函式</li></ul><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>php artisan storage:link
</code></pre></div><ul><li>使用Storage 靜態介面</li><li>Storage::disk(&lsquo;s3&rsquo;)->get(&lsquo;file.jpg&rsquo;)<ul><li>get()</li><li>put()</li><li>putFile(&lsquo;dir&rsquo;,$file)</li><li>exists()</li><li>copy(old,new)</li><li>move(old,new)</li><li>prepend() 在前面加</li><li>append() 在後面加</li><li>delete()</li><li>deleteDirectory()</li><li>size()</li><li>lastModified</li><li>files(dir)</li><li>allFiles(dir) +子目錄內的</li><li>directories()</li><li>allDirectories()</li></ul></li><li>Session<ul><li>Laravel 的session 管理器支援：檔案、cookie、資料庫、Memcached、<strong>Redis</strong></li></ul></li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln> 1</span><span class=c1>#取出
</span><span class=ln> 2</span><span class=c1></span><span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;key&#39;</span><span class=p>)</span>
<span class=ln> 3</span><span class=nx>session</span><span class=p>(</span><span class=s1>&#39;key&#39;</span><span class=p>)</span>
<span class=ln> 4</span><span class=c1>#放入
</span><span class=ln> 5</span><span class=c1></span><span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>put</span><span class=p>(</span><span class=s1>&#39;key&#39;</span><span class=p>,</span><span class=s1>&#39;value&#39;</span><span class=p>)</span>
<span class=ln> 6</span><span class=nx>session</span><span class=p>([</span><span class=s1>&#39;key&#39;</span><span class=p>,</span><span class=s1>&#39;value&#39;</span><span class=p>])</span>
<span class=ln> 7</span><span class=c1>#session 是陣列時
</span><span class=ln> 8</span><span class=c1></span><span class=nx>session</span><span class=o>-&gt;</span><span class=na>push</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span><span class=nx>value</span><span class=p>)</span>
<span class=ln> 9</span><span class=c1>#全部
</span><span class=ln>10</span><span class=c1></span><span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>all</span><span class=p>()</span>
<span class=ln>11</span><span class=c1>#移除
</span><span class=ln>12</span><span class=c1></span><span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>forget</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span> <span class=c1>#移除一個
</span><span class=ln>13</span><span class=c1></span><span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>flush</span><span class=p>()</span> <span class=c1>#移除每一個
</span></code></pre></div><ul><li>Flash session 儲存<ul><li>只想要在下一個網頁載入時抹除它</li></ul></li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>flash</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span><span class=nx>value</span><span class=p>)</span>
<span class=ln>2</span>
<span class=ln>3</span><span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>reflash</span><span class=p>()</span> <span class=o>/</span> <span class=nx>session</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>keep</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span>
<span class=ln>4</span><span class=c1>#讓前一個網頁的flash session 繼續使用
</span></code></pre></div><ul><li>快取</li><li>快取中的資料是為每一個應用程式儲存的；而session 中的資料是為每一個用戶儲存的</li><li>config/cache.php</li><li><a href=https://laravel.com/docs/5.5/cache>https://laravel.com/docs/5.5/cache</a><ul><li>cache()->get(key,fallbackvalue)</li><li>cache()->pull(key,fallbackvalue)</li><li>cache()->put(key,value,minutesOrExpiration)</li><li>cache()->add(key,value)</li><li>cache()->forever(key,value)</li><li>cache()->has()</li><li>cache()->remember(key,minutes,closure) / cache()->rememberForever(key,closure)</li><li>cache()->increment(key,amount) / cache()->decrement(key,amount)</li><li>cache()->forget() / cache()->flush()</li></ul></li><li>Cookie</li><li><a href=https://laravel.com/docs/5.5/requests#cookies>https://laravel.com/docs/5.5/requests#cookies</a></li><li>Laravel Scout 作全文搜尋<ul><li>可為Eloquent 模型加入全文搜尋</li><li>Algolia預設驅動程式</li><li>要改成elasticsearch 請另外找辦法</li></ul></li></ul><h2 id=15郵件與通知>15.郵件與通知</h2><ul><li>郵件</li><li><a href=https://laravel.com/docs/5.5/mail>https://laravel.com/docs/5.5/mail</a></li><li>config/mail.php<ul><li>classic</li><li>mailable</li></ul></li><li>傳統郵件 classic</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=nx>Mail</span><span class=o>::</span><span class=na>send</span><span class=p>(</span><span class=nx>view</span><span class=p>,</span><span class=nx>data</span><span class=p>,</span><span class=nx>closure</span><span class=p>)</span>
<span class=ln>2</span><span class=c1># closure 裡面有寄件者 收件者 等等
</span></code></pre></div><ul><li><p>Mailable
本地開發</p></li><li><p>log驅動程式</p></li><li><p>Mailtrap.io</p></li><li><p>Universal to</p></li><li><p>通知 Notification</p></li><li><p>php artisan make:notification WorkoutAvailable</p></li></ul><h2 id=16佇列工作事件廣播與排程器>16.佇列、工作、事件、廣播與排程器</h2><ul><li><p>佇列可以將昂貴或緩慢的程序移出任何同步呼叫 ex.傳送郵件</p></li><li><p>config/queue.php</p></li><li><p>事件</p></li><li><p>event()</p></li><li><p>監聽事件</p><ul><li>php artisan make:listener jobname &ndash;event=UserSubscribed</li></ul></li><li><p>將事件廣播到WebSocket 與 Laravel Echo</p></li><li><p>排程器</p><ul><li>cron job in linux</li><li>app\console\kernel.php</li><li>$schedule</li></ul></li></ul><h2 id=17輔助函式與集合>17.輔助函式與集合</h2><ul><li><a href=https://laravel.com/docs/5.5/helpers>https://laravel.com/docs/5.5/helpers</a></li><li><a href=https://laravel.com/docs/5.5/collections>https://laravel.com/docs/5.5/collections</a></li></ul><h2 id=laravel-的中大型專案架構>Laravel 的中大型專案架構</h2><ul><li><a href=http://oomusou.io/laravel/laravel-architecture/ target=_blank rel="noopener noreferrer">參考資料</a></li><li><a href="https://docs.google.com/presentation/d/1rOWNct6tu8u63Gss8hHwz8KncWkP3yI3BR8dsDs1-Sg/edit#slide=id.g22cf02b506_3_403" target=_blank rel="noopener noreferrer">laravel 優美架構</a></li><li>可用外掛<ul><li><a href=https://github.com/Mombuyish/Laravel-Oh-Generators>https://github.com/Mombuyish/Laravel-Oh-Generators</a></li></ul></li></ul><p>1.Model : 僅當成 Eloquent class。<br>2.<strong>Repository : 輔助 model，處理資料庫邏輯，然後注入到 service。</strong><br>3.<strong>Service : 輔助 controller，處理商業邏輯，然後注入到 controller。</strong><br>4.Controller : 接收 HTTP request，調用其他 service。<br>5.<strong>Presenter : 處理顯示邏輯，然後注入到 view。</strong><br>6.View : 使用 blade 將資料 binding 到 HTML。<br>7.Transformer :轉換顯示欄位(API)<br>8.Formatter: 格式的統一顯示格式(API)<br>9.Foundation: 獨立掛載功能</p><p>總結</p><ul><li>職責單一: 就是說每次修改都會有個地方變動而已，所以每個類別都只會有一種改變的理由</li><li>跟夥伴們取得一個共識：讓他們知道這樣的設計和方法可以帶來時麼樣的好處，建立一個良好的溝通</li></ul><h2 id=laravel-外掛整理>Laravel 外掛整理</h2><h3 id=debug>Debug</h3><ul><li><a href=https://packagist.org/packages/recca0120/laravel-tracy target=_blank rel="noopener noreferrer">Laravel-tracy</a><ul><li><a href=https://github.com/shengyou/vscode-handler target=_blank rel="noopener noreferrer">vscode-handler</a>
:使用vs-code一鍵開檔</li></ul></li><li>laravel debugbar</li></ul><h3 id=開發相關>開發相關</h3><ul><li><a href=https://github.com/ignasbernotas/laravel-model-generator target=_blank rel="noopener noreferrer">laravel-model-generator</a>
:生成laravel model</li><li><a href=https://github.com/Mombuyish/Laravel-Oh-Generators target=_blank rel="noopener noreferrer">laravel-oh-generators</a>
:生成優美laravel 架構</li></ul><h3 id=驗證>驗證</h3><ul><li><a href=https://github.com/proengsoft/laravel-jsvalidation target=_blank rel="noopener noreferrer">laravel-jsvalidation</a>
:Laravel 和前端的規則可以共用</li></ul><h3 id=權限>權限</h3><ul><li><a href=https://github.com/Zizaco/entrust target=_blank rel="noopener noreferrer">laravel-entrust</a>
:使用者權限劃分</li></ul><h3 id=管理後台>管理後台</h3><ul><li>管理後台平台外掛 類似Django 自帶後台?<ul><li><a href=http://labs.infyom.com/laravelgenerator/>http://labs.infyom.com/laravelgenerator/</a></li><li>LARAVEL-ADMIN<ul><li><a href=http://www.ctolib.com/article/comments/21786>http://www.ctolib.com/article/comments/21786</a></li><li><a href=http://laravel-admin.org/>http://laravel-admin.org/</a></li></ul></li></ul></li></ul><h3 id=ruby-on-rail-scaffold>Ruby on rail Scaffold</h3><ul><li>Laravel 類似Ruby on rail 的scaffole 指令<ul><li><a href=https://github.com/appzcoder/crud-generator/>https://github.com/appzcoder/crud-generator/</a></li></ul></li></ul><h3 id=office>Office</h3><ul><li>laravel excel</li><li>laravel word</li></ul><h3 id=notification-通知>Notification 通知</h3><ul><li>laravel flash</li></ul><h3 id=log>Log</h3><ul><li>laravel5 log viewer</li></ul><h3 id=開發>開發</h3><ul><li>laravelcollective HTML</li></ul><h3 id=pdf>PDF</h3><ul><li>laravel dom-pdf</li></ul><h3 id=資料庫備份>資料庫備份</h3><ul><li>laravel-backup</li></ul><h3 id=datatable>Datatable</h3><ul><li><a href=https://github.com/yajra/laravel-datatables target=_blank rel="noopener noreferrer">yajra datatables</a></li></ul><h3 id=其它>其它</h3><ul><li>laravel dusk (瀏覽器測試)</li><li>laravel-fractal (創建api)</li><li>doctrine DBAL (更優的數據表操作)</li><li>intervention image(用於修改及創造圖片)</li><li><a href=https://stackoverflow.com/questions/31087897/laravel-5-log-model-create-update-delete-events target=_blank rel="noopener noreferrer">Laravel 寫log 的建議方法</a></li><li><a href=https://laravel-china.org/topics/2530/the-highest-amount-of-downloads-of-the-100-laravel-extensions-recommended>https://laravel-china.org/topics/2530/the-highest-amount-of-downloads-of-the-100-laravel-extensions-recommended</a></li><li><a href=https://9iphp.com/web/laravel/what-packages-do-you-install-on-every-laravel-application-you-create.html target=_blank rel="noopener noreferrer">每一個laravel 安裝的package 有哪些</a></li></ul><h2 id=laravel-的carbon-小技巧>Laravel 的Carbon 小技巧</h2><p>1.本地化</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=c1># app/Providers/AppServiceProvider.php
</span><span class=ln>2</span><span class=c1></span><span class=k>public</span> <span class=k>function</span> <span class=nf>boot</span><span class=p>()</span>
<span class=ln>3</span><span class=p>{</span>
<span class=ln>4</span>    <span class=nx>\Carbon\Carbon</span><span class=o>::</span><span class=na>setLocale</span><span class=p>(</span><span class=s1>&#39;zh&#39;</span><span class=p>);</span>
<span class=ln>5</span><span class=p>}</span>
<span class=ln>6</span><span class=c1>#$article-&gt;created_at-&gt;diffForHumans(); # 1 年前
</span></code></pre></div><p>2.七個小技巧<br><a href=https://9iphp.com/web/php/less-known-useful-carbon-functions.html>https://9iphp.com/web/php/less-known-useful-carbon-functions.html</a></p><ul><li>isX :True/False</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln> 1</span><span class=o>&lt;?</span><span class=nx>php</span>
<span class=ln> 2</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isWeekday</span><span class=p>();</span>
<span class=ln> 3</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isWeekend</span><span class=p>();</span>
<span class=ln> 4</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isYesterday</span><span class=p>();</span>
<span class=ln> 5</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isToday</span><span class=p>();</span>
<span class=ln> 6</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isTomorrow</span><span class=p>();</span>
<span class=ln> 7</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isFuture</span><span class=p>();</span>
<span class=ln> 8</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isPast</span><span class=p>();</span>
<span class=ln> 9</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isLeapYear</span><span class=p>();</span>
<span class=ln>10</span><span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>isSameDay</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>now</span><span class=p>());</span>
</code></pre></div><ul><li>isBirthday</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=o>&lt;?</span><span class=nx>php</span>
<span class=ln>2</span><span class=nv>$born</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>createFromDate</span><span class=p>(</span><span class=mi>1987</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>23</span><span class=p>);</span>
<span class=ln>3</span><span class=nv>$noCake</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>createFromDate</span><span class=p>(</span><span class=mi>2014</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>26</span><span class=p>);</span>
<span class=ln>4</span><span class=nv>$yesCake</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>createFromDate</span><span class=p>(</span><span class=mi>2014</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>23</span><span class=p>);</span>
<span class=ln>5</span><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$born</span><span class=o>-&gt;</span><span class=na>isBirthday</span><span class=p>(</span><span class=nv>$noCake</span><span class=p>));</span>      <span class=c1>// bool(false)
</span><span class=ln>6</span><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$born</span><span class=o>-&gt;</span><span class=na>isBirthday</span><span class=p>(</span><span class=nv>$yesCake</span><span class=p>));</span>
</code></pre></div><ul><li>StartOfX 和 EndOfX 列表</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln> 1</span><span class=o>&lt;?</span><span class=nx>php</span>
<span class=ln> 2</span><span class=nv>$dt</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>create</span><span class=p>(</span><span class=mi>2012</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>31</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
<span class=ln> 3</span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>startOfDay</span><span class=p>();</span>     <span class=c1>// 2012-01-31 00:00:00
</span><span class=ln> 4</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>endOfDay</span><span class=p>();</span>       <span class=c1>// 2012-01-31 23:59:59
</span><span class=ln> 5</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>startOfMonth</span><span class=p>();</span>   <span class=c1>// 2012-01-01 00:00:00
</span><span class=ln> 6</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>endOfMonth</span><span class=p>();</span>     <span class=c1>// 2012-01-31 23:59:59
</span><span class=ln> 7</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>startOfYear</span><span class=p>();</span>    <span class=c1>// 2012-01-01 00:00:00
</span><span class=ln> 8</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>endOfYear</span><span class=p>();</span>      <span class=c1>// 2012-12-31 23:59:59
</span><span class=ln> 9</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>startOfDecade</span><span class=p>();</span>  <span class=c1>// 2010-01-01 00:00:00
</span><span class=ln>10</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>endOfDecade</span><span class=p>();</span>    <span class=c1>// 2019-12-31 23:59:59
</span><span class=ln>11</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>startOfCentury</span><span class=p>();</span> <span class=c1>// 2000-01-01 00:00:00
</span><span class=ln>12</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>endOfCentury</span><span class=p>();</span>   <span class=c1>// 2099-12-31 23:59:59
</span><span class=ln>13</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>startOfWeek</span><span class=p>();</span>    <span class=c1>// 2012-01-30 00:00:00
</span><span class=ln>14</span><span class=c1></span><span class=k>echo</span> <span class=nv>$dt</span><span class=o>-&gt;</span><span class=na>endOfWeek</span><span class=p>();</span>      <span class=c1>// 2012-02-05 23:59:59
</span></code></pre></div><ul><li>Today, Tomorrow, Yesterday</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=o>&lt;?</span><span class=nx>php</span>
<span class=ln>2</span><span class=nv>$today</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>today</span><span class=p>();</span>  <span class=c1>// assuming 2016-06-24
</span><span class=ln>3</span><span class=c1></span><span class=k>echo</span> <span class=nv>$today</span><span class=p>;</span>                   <span class=c1>// 2016-06-24 00:00:00
</span><span class=ln>4</span><span class=c1></span><span class=nv>$tomorrow</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>tomorrow</span><span class=p>();</span>
<span class=ln>5</span><span class=k>echo</span> <span class=nv>$tomorrow</span><span class=p>;</span>                      <span class=c1>// 2016-06-25 00:00:00
</span><span class=ln>6</span><span class=c1></span><span class=nv>$yesterday</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>yesterday</span><span class=p>();</span>
<span class=ln>7</span><span class=k>echo</span> <span class=nv>$yesterday</span><span class=p>;</span>                   <span class=c1>// 2016-06-23 00:00:00
</span></code></pre></div><ul><li>DiffForHumans + 本地化</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=o>&lt;?</span><span class=nx>php</span>
<span class=ln>2</span><span class=k>echo</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>now</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>subDays</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=o>-&gt;</span><span class=na>diffForHumans</span><span class=p>()</span><span class=c1>//5daysago
</span><span class=ln>3</span><span class=c1></span><span class=nx>Carbon</span><span class=o>::</span><span class=na>setLocale</span><span class=p>(</span><span class=s1>&#39;zh&#39;</span><span class=p>);</span>
<span class=ln>4</span><span class=k>echo</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>now</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>addYear</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>diffForHumans</span><span class=p>();</span> <span class=c1>//一年前
</span></code></pre></div><ul><li>改变 now() 为任意你想要的时间</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=o>&lt;?</span><span class=nx>php</span>
<span class=ln>2</span><span class=nv>$knownDate</span> <span class=o>=</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>create</span><span class=p>(</span><span class=mi>2001</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>21</span><span class=p>,</span> <span class=mi>12</span><span class=p>);</span><span class=c1>//建测试日期
</span><span class=ln>3</span><span class=c1></span><span class=nx>Carbon</span><span class=o>::</span><span class=na>setTestNow</span><span class=p>(</span><span class=nv>$knownDate</span><span class=p>);</span>    <span class=c1>// set the mock 
</span><span class=ln>4</span><span class=c1></span><span class=k>echo</span> <span class=nx>Carbon</span><span class=o>::</span><span class=na>now</span><span class=p>();</span>      <span class=c1>// 2001-05-21 12:00:00
</span></code></pre></div><ul><li>星期常量</li></ul><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span><span class=o>&lt;?</span><span class=nx>php</span>
<span class=ln>2</span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>SUNDAY</span><span class=p>);</span>            <span class=c1>// int(0)
</span><span class=ln>3</span><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>MONDAY</span><span class=p>);</span>            <span class=c1>// int(1)
</span><span class=ln>4</span><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>TUESDAY</span><span class=p>);</span>           <span class=c1>// int(2)
</span><span class=ln>5</span><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>WEDNESDAY</span><span class=p>);</span>         <span class=c1>// int(3)
</span><span class=ln>6</span><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>THURSDAY</span><span class=p>);</span>          <span class=c1>// int(4)
</span><span class=ln>7</span><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>FRIDAY</span><span class=p>);</span>            <span class=c1>// int(5)
</span><span class=ln>8</span><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>Carbon</span><span class=o>::</span><span class=na>SATURDAY</span><span class=p>);</span>          <span class=c1>// int(6)
</span></code></pre></div><h2 id=相關資源>相關資源</h2><ul><li>理解laravel 核心概念<ul><li><a href=https://www.codecasts.com/series/peak-into-laravel-core-components>https://www.codecasts.com/series/peak-into-laravel-core-components</a></li><li><a href=https://laravel-china.org/topics/3057/the-core-concept-of-laravel>https://laravel-china.org/topics/3057/the-core-concept-of-laravel</a></li></ul></li><li>套件管理-軍火庫<ul><li><a href=https://packagist.org/ target=_blank rel="noopener noreferrer">Packagist</a></li></ul></li><li>教程<ul><li><a href=https://www.codecasts.com/ target=_blank rel="noopener noreferrer">Larvist</a></li><li><a href=https://www.codecasts.com/>https://www.codecasts.com/</a></li></ul></li><li>sample code<ul><li><a href=http://itsolutionstuff.com/post/laravel-55-crud-example-from-scratchexample.html target=_blank rel="noopener noreferrer">laravel 5.5 blog</a></li></ul></li><li><a href="https://serversforhackers.com/laravel-perf/course?email=r567tw@gmail.com" target=_blank rel="noopener noreferrer">更有效率的laravel</a></li><li><a href=https://divinglaravel.com/ target=_blank rel="noopener noreferrer">更深層的laravel</a></li><li><a href=https://hackmd.io/s/SJEH1KZgx#phpconftw-2016-day-1 target=_blank rel="noopener noreferrer">phpconf筆記</a></li><li><a href="https://docs.google.com/presentation/d/1PN4Ou1b3_gnPyki9JfU3fp9sSeavk0rAvkZptxF2yFc/edit#slide=id.g1871d6e478_0_374" target=_blank rel="noopener noreferrer">使用 Laravel & Vue.js 打造即時資訊看板</a></li><li><a href="https://docs.google.com/presentation/d/1rOWNct6tu8u63Gss8hHwz8KncWkP3yI3BR8dsDs1-Sg/edit#slide=id.g22cf02b506_3_403" target=_blank rel="noopener noreferrer">laravel 優美架構</a></li><li><a href=https://9iphp.com/web/laravel/what-packages-do-you-install-on-every-laravel-application-you-create.html target=_blank rel="noopener noreferrer">每一個laravel 安裝的package 有哪些</a></li><li><a href=https://9iphp.com/series/laravel-snippets target=_blank rel="noopener noreferrer">laravel小技巧</a></li><li><a href=http://laravelacademy.org/laravel-project target=_blank rel="noopener noreferrer">laravel 開源項目大全</a></li><li><a href="http://www.infoq.com/cn/articles/architecture-practice-01-redis?utm_term=global&utm_content=buffer0f201&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer" target=_blank rel="noopener noreferrer">Redis 應用</a></li><li><a href=https://medium.com/@xxhomey19/github-%E5%A6%82%E4%BD%95%E7%B6%93%E7%87%9F-side-project-%E6%8B%BF%E5%88%B0-1k-%E9%A1%86%E6%98%9F%E6%98%9F-974b8d170436 target=_blank rel="noopener noreferrer">如何經營 Side Project 拿到 1K 顆星星</a></li><li><a href=https://medium.com/@guitarbien>https://medium.com/@guitarbien</a></li></ul></div><hr><div class="post-navs d-flex mb-3 justify-content-evenly"><div class="post-nav post-prev"><i class="fas fa-fw fa-chevron-left"></i>
<a href=https://jimmycode.tw/posts/%E7%8F%BE%E4%BB%A3php-%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/>現代PHP 讀書筆記</a></div><div class="post-nav post-next"><a href=https://jimmycode.tw/posts/pytest-%E7%B0%A1%E5%96%AE%E6%95%99%E5%AD%B8/>Pytest 簡單教學</a>
<i class="fas fa-fw fa-chevron-right"></i></div></div></div></article><div class="post-comments card row component"><div class=card-body><script src=https://utteranc.es/client.js repo=r567tw/r567tw.github.io issue-term=title label=comment theme=github-light crossorigin=anonymous async></script></div></div></div></div><aside class="col-lg-4 sidebar d-flex"><div class=container><section class="card row text-center profile component"><div class=card-body><div class="col-12 d-flex align-items-center justify-content-center"><img class="profile-avatar rounded-circle" alt=r567tw src=http://gravatar.com/avatar/40ee6e5cf50763264e00578b83236bdf loading=lazy></div><div class="col-12 profile-meta"><div class=profile-name>r567tw</div><div class=profile-bio>Be a better Coder</div><div class=profile-company><i class="fas fa-fw fa-building"></i>UDN</div><div class=profile-location><i class="fas fa-fw fa-map-marker-alt"></i>Taiwan</div><div class=profile-about><i class="fas fa-fw fa-user"></i><a href=https://jimmycode.tw/about/>About</a></div></div></div></section><section class="recent-posts row card component"><div class=card-body><h2 class=card-title>近期文章</h2><ul><li><a href=https://jimmycode.tw/posts/go-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%986-%E5%AF%AB%E4%B8%80%E5%80%8B%E7%B6%B2%E9%A0%81%E5%90%A7%EF%BC%81/>Go 學習筆記(6): 寫一個網頁吧！</a></li><li><a href=https://jimmycode.tw/posts/%E5%8E%9F%E4%BE%86%E5%8F%AF%E4%BB%A5%E9%80%99%E9%BA%BC%E5%AF%AB13-%E5%85%B6%E5%AF%A6%E6%88%91%E6%9C%83%E4%B8%80%E9%BB%9E%E9%BB%9Eruby/>原來可以這麼寫(13): 其實我會一點點Ruby</a></li><li><a href=https://jimmycode.tw/posts/go-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%985-%E9%9D%9E%E5%90%8C%E6%AD%A5/>Go 學習筆記(5): 非同步</a></li><li><a href=https://jimmycode.tw/posts/go-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%984-%E6%AA%94%E6%A1%88/>Go 學習筆記(4) – 檔案</a></li><li><a href=https://jimmycode.tw/posts/go-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%983-%E5%81%9A%E5%A5%97%E4%BB%B6%E7%B5%A6%E5%88%A5%E4%BA%BA%E7%94%A8/>Go 學習筆記(3): 做套件給別人用</a></li></ul></div></section><section class="taxonomies row card component"><div class=card-body><h2 class=card-title><a href=https://jimmycode.tw/categories>分類</a></h2><div><a href=https://jimmycode.tw/categories/%E9%90%B5%E4%BA%BA%E8%B3%BD/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=鐵人賽>鐵人賽
</a><a href=https://jimmycode.tw/categories/%E7%A8%8B%E5%BC%8F/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=程式>程式
</a><a href=https://jimmycode.tw/categories/%E5%B7%A5%E4%BD%9C%E7%AD%86%E8%A8%98/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=工作筆記>工作筆記
</a><a href=https://jimmycode.tw/categories/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=讀書筆記>讀書筆記
</a><a href=https://jimmycode.tw/categories/side-projects/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="Side Projects">Side Projects</a></div></div></section><section class="taxonomies row card component"><div class=card-body><h2 class=card-title><a href=https://jimmycode.tw/series>系列文章</a></h2><div><a href=https://jimmycode.tw/series/pythonx30/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=PythonX30>PythonX30
</a><a href=https://jimmycode.tw/series/%E8%AE%93php%E5%86%8D%E6%AC%A1%E5%81%89%E5%A4%A7/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=讓PHP再次偉大>讓PHP再次偉大
</a><a href=https://jimmycode.tw/series/%E5%8E%9F%E4%BE%86%E5%8F%AF%E4%BB%A5%E9%80%99%E9%BA%BC%E5%AF%AB/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=原來可以這麼寫>原來可以這麼寫
</a><a href=https://jimmycode.tw/series/go-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="go 學習筆記">go 學習筆記</a></div></div></section><section class="taxonomies row card component"><div class=card-body><h2 class=card-title><a href=https://jimmycode.tw/tags>標籤</a></h2><div><a href=https://jimmycode.tw/tags/laravel/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=laravel>laravel
</a><a href=https://jimmycode.tw/tags/python/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=python>python
</a><a href=https://jimmycode.tw/tags/golang/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=golang>golang
</a><a href=https://jimmycode.tw/tags/mysql/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=mysql>mysql
</a><a href=https://jimmycode.tw/tags/aws/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=aws>aws
</a><a href=https://jimmycode.tw/tags/php/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=php>php
</a><a href=https://jimmycode.tw/tags/composer/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=composer>composer
</a><a href=https://jimmycode.tw/tags/crud/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=crud>crud
</a><a href=https://jimmycode.tw/tags/lambda/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=lambda>lambda
</a><a href=https://jimmycode.tw/tags/ruby/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=ruby>ruby
</a><a href=https://jimmycode.tw/tags/async/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=async>async
</a><a href=https://jimmycode.tw/tags/aws-step-function/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=aws-step-function>aws-step-function
</a><a href=https://jimmycode.tw/tags/data-import/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=data-import>data-import
</a><a href=https://jimmycode.tw/tags/devops/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=DevOps>DevOps
</a><a href=https://jimmycode.tw/tags/filter/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=filter>filter</a></div></div></section></div></aside></div></main><footer class="footer mt-auto py-3 text-center container-fluid"><div class="copyright mb-2">Copyright © 2022-2021 Jimmy Fang. All Rights Reserved.</div></footer><script defer src=https://jimmycode.tw/js/katex.6a12e6350251b46cca63bbb77a9466a33e9fbd743b6599d5cf07d952c12ad607.js integrity="sha256-ahLmNQJRtGzKY7u3epRmoz6fvXQ7ZZnVzwfZUsEq1gc=" crossorigin=anonymous></script><script defer src=https://jimmycode.tw/js/mermaid.dcd4bbb3b6db5dc439f9c543e9e1e7f274c430426aaefd28e0fc82456ae2cbfe.js integrity="sha256-3NS7s7bbXcQ5+cVD6eHn8nTEMEJqrv0o4PyCRWriy/4=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-211893638-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>